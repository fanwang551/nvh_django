
# 需求文档：VocOdorData.vue 页面 VOC 数据图表功能

## 一、功能概述
在 VOC 数据表的"操作"列添加"图表"按钮，点击后在气味检测结果表后面展示该行数据对应的柱状图分析。

---

## 二、UI 交互

### 2.1 按钮位置
- **位置**：数据表"操作"列
- **按钮文案**："图表" 
- **触发方式**：在气味检测结果表后加一个图表模块展示

---

## 三、图表配置

### 3.1 图表类型
**柱状图**（ECharts Bar Chart）

### 3.2 坐标轴定义
| 轴向 | 数据内容 | 说明 |
|------|---------|------|
| **X轴** | 物质名称 | 固定8种：苯、甲苯、二甲苯、乙苯、苯乙烯、甲醛、乙醛、TVOC |
| **Y轴** | 浓度值 | 数值型，单位需标注（mg/m³） |

### 3.3 图例交互
- **必需功能**：支持点击图例显示/隐藏对应柱子
- **实现方式**：使用 ECharts 自带 `legend.selected` 配置

---

## 四、数据读取规则

### 4.1 场景判断依据
根据当前行的 **"零部件"字段** 判断数据读取逻辑：

### 4.2 场景 A：零部件 = "整车"
**数据筛选条件：**
```
项目名 = 当前行项目名
```

**柱子分组逻辑：**
- 每个柱子代表：`检测状态 + 开发阶段` 的组合
- 柱子命名示例：`"行车模式-体验阀"`

**示例：**
```
当前行数据：项目名="F410S", 零部件="整车"
→ 读取所有 项目名="F410S" 的数据
→ 按 "检测状态-开发阶段" 分组展示
```

### 4.3 场景 B：零部件 ≠ "整车"
**数据筛选条件：**
```
项目名 = 当前行项目名 AND 零件名 = 当前行零件名
```

**柱子分组逻辑：**
- 每个柱子代表：`零部件名 + 开发阶段` 的组合
- 柱子命名示例：`"座椅-体验阀"`、`"仪表板-营销阀"`

**示例：**
```
当前行数据：项目名="F410S", 零部件="座椅"
→ 读取 项目名="F410S" AND 零件名="座椅" 的数据
→ 按 "零部件名-开发阶段" 分组展示
```

---

## 五、视觉设计

### 5.1 柱子颜色区分
- **区分维度**：`检测状态-开发阶段` 组合
- **配色方案**：建议使用 ECharts 默认主题色

### 5.2 数据标注
- 柱子顶部显示具体数值
- Tooltip 显示信息：物质名、浓度值、检测状态、开发阶段

---




